import{f as A}from"./chunk-SC7G33IB.js";import{ba as f,da as w,oa as L,pb as v,r as _,s as I,t as c,ta as B,u as T,za as F}from"./chunk-QUMI2XMD.js";import{A as y,Ac as O,Gc as S,Hc as E,Kc as C,Qa as b,Qc as D,X as u,a,b as h,ba as m,ea as r,m as o}from"./chunk-CPQ7MZ6M.js";var U=(()=>{class s{static{this.type="[Brand] Get"}constructor(e){this.payload=e}}return s})(),$=(()=>{class s{static{this.type="[Brand] Get Brand By Slug"}constructor(e){this.slug=e}}return s})();var P=(()=>{class s{constructor(e){this.http=e}getBrands(e){return this.http.get(`${f.URL}/brand`,{params:e})}getBrandBySlug(e){return this.http.get(`${f.URL}/brand/slug/${e}`)}static{this.\u0275fac=function(i){return new(i||s)(r(O))}}static{this.\u0275prov=m({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var p=class l{constructor(t){this.brandService=t}static brand(t){return t.brand}static selectedBrand(t){return t.selectedBrand}getBrands(t,e){return this.brandService.getBrands(e.payload).pipe(u({next:i=>{t.patchState({brand:{data:i.data,total:i?.total?i?.total:i.data?.length}})},error:i=>{throw new Error(i?.error?.message)}}))}getBrandBySlug(t,e){return this.brandService.getBrandBySlug(e.slug).pipe(u({next:i=>{let g=t.getState();t.patchState(h(a({},g),{selectedBrand:i}))},error:i=>{throw new Error(i?.error?.message)}}))}static{this.\u0275fac=function(e){return new(e||l)(r(P))}}static{this.\u0275prov=m({token:l,factory:l.\u0275fac})}};o([_(U)],p.prototype,"getBrands",null);o([_($)],p.prototype,"getBrandBySlug",null);o([T()],p,"brand",null);o([T()],p,"selectedBrand",null);p=o([I({name:"brand",defaults:{brand:{data:[],total:0},selectedBrand:null}})],p);var n=class s{constructor(t,e,i,g){this.meta=t,this.router=e,this.titleService=i,this.ngZone=g,this.DEFAULT_TITLE="Fashion Collection for Men and Women | Active Wear | Fashion Hub",this.DEFAULT_DESCRIPTION="Explore our latest fashion collections for men and women for real-life comfort, and look always trendy with latest men's clothing and the women's collection",this.DEFAULT_KEYWORDS="Fashion Collection for Men and Women",this.currentMessageIndex=0,this.delay=1e3,this.isTabInFocus=!0,this.scoContent={},this.router.events.pipe(y(d=>d instanceof C)).subscribe(d=>{this.path=d.url,this.updateSeo(this.path)}),this.fetchData()}fetchData(){this.setting$.subscribe(t=>this.setting=t),this.product$.subscribe(t=>this.product=t),this.blog$.subscribe(t=>this.blog=t),this.page$.subscribe(t=>this.page=t),this.brand$.subscribe(t=>this.brand=t),this.category$.subscribe(t=>this.category=t),this.themeOption$.subscribe(t=>{this.themeOption=t})}updateSeo(t){t.includes("product")?(this.product&&(this.scoContent={url:window.location.href,og_title:this.product.meta_title||this.themeOption?.seo?.meta_title||this.DEFAULT_TITLE,og_description:this.product.meta_description||this.themeOption?.seo?.meta_description||this.DEFAULT_DESCRIPTION,og_image:this.product.product_meta_image?.original_url||this.themeOption?.seo?.og_image?.original_url}),this.customSCO()):t.includes("blog")?this.blog&&(this.scoContent=h(a({},this.scoContent),{url:window.location.href,og_title:this.blog?.meta_title||this.themeOption?.seo?.meta_title||this.DEFAULT_TITLE,og_description:this.blog?.meta_description||this.themeOption?.seo?.meta_description||this.DEFAULT_DESCRIPTION,og_image:this.blog?.blog_meta_image?.original_url||this.themeOption?.seo?.og_image?.original_url}),this.customSCO()):t.includes("page")?(this.page&&(this.scoContent=h(a({},this.scoContent),{url:window.location.href,og_title:this.page?.meta_title||this.themeOption?.seo?.meta_title||this.DEFAULT_TITLE,og_description:this.page?.meta_description||this.themeOption?.seo?.meta_description||this.DEFAULT_DESCRIPTION,og_image:this.page?.page_meta_image?.original_url||this.themeOption?.seo?.og_image?.original_url})),this.customSCO()):t.includes("brand")?(this.brand&&(this.scoContent=h(a({},this.scoContent),{url:window.location.href,og_title:this.brand?.meta_title||this.themeOption?.seo?.meta_title||this.DEFAULT_TITLE,og_description:this.brand?.meta_description||this.themeOption?.seo?.meta_description||this.DEFAULT_DESCRIPTION,og_image:this.brand?.brand_meta_image?.original_url||this.themeOption?.seo?.og_image?.original_url})),this.customSCO()):t.includes("category")?(this.category&&(this.scoContent=h(a({},this.scoContent),{url:window.location.href,og_title:this.category?.meta_title||this.themeOption?.seo?.meta_title||this.DEFAULT_TITLE,og_description:this.category?.meta_description||this.themeOption?.seo?.meta_description||this.DEFAULT_DESCRIPTION,og_image:this.category?.category_meta_image?.original_url||this.themeOption?.seo?.og_image?.original_url})),this.customSCO()):this.updateDefaultSeo()}updateDefaultSeo(){if(this.meta.updateTag({name:"title",content:this.themeOption?.seo?.meta_title||this.DEFAULT_TITLE}),this.meta.updateTag({name:"description",content:this.themeOption?.seo?.meta_description||this.DEFAULT_DESCRIPTION}),this.meta.updateTag({name:"keywords",content:this.DEFAULT_KEYWORDS}),this.meta.updateTag({property:"og:type",content:"website"}),this.meta.updateTag({property:"og:url",content:this.scoContent.url}),this.meta.updateTag({property:"og:title",content:this.themeOption?.seo?.meta_title||this.DEFAULT_TITLE}),this.meta.updateTag({property:"og:description",content:this.themeOption?.seo?.meta_description||this.DEFAULT_DESCRIPTION}),this.meta.updateTag({property:"og:image",content:this.scoContent.og_image}),this.meta.updateTag({property:"twitter:card",content:"summary_large_image"}),this.meta.updateTag({property:"twitter:url",content:this.scoContent.url}),this.meta.updateTag({property:"twitter:title",content:this.themeOption?.seo?.meta_title||this.DEFAULT_TITLE}),this.meta.updateTag({property:"twitter:description",content:this.themeOption?.seo?.meta_description||this.DEFAULT_DESCRIPTION}),this.meta.updateTag({property:"twitter:image",content:this.scoContent.og_image}),this.themeOption?.general&&this.themeOption?.general?.exit_tagline_enable)document.addEventListener("visibilitychange",()=>{this.messages=this.themeOption.general.taglines,this.ngZone.run(()=>{if(this.isTabInFocus=!document.hidden,this.isTabInFocus)return clearTimeout(this.timeoutId),this.titleService.setTitle(this.themeOption?.general?.site_title&&this.themeOption?.general?.site_tagline?`${this.themeOption?.general?.site_title} | ${this.themeOption?.general?.site_tagline}`:"");this.updateMessage()})}),this.scoContent=h(a({},this.scoContent),{url:window.location.href,og_title:this.themeOption?.seo?.meta_title||this.DEFAULT_TITLE,og_description:this.themeOption?.seo?.meta_description||this.DEFAULT_DESCRIPTION,og_image:this.themeOption?.seo?.og_image?.original_url}),this.customSCO();else{let t=this.themeOption?.general?.site_title||"Fashion Hub",e=this.themeOption?.general?.site_tagline||"Fashion Collection for Men and Women";return this.titleService.setTitle(`${t} | ${e}`)}}customSCO(){let t=this.scoContent.og_title||this.DEFAULT_TITLE,e=this.scoContent.og_description||this.DEFAULT_DESCRIPTION;this.titleService.setTitle(t),this.meta.updateTag({name:"title",content:t}),this.meta.updateTag({name:"description",content:e}),this.meta.updateTag({name:"keywords",content:this.DEFAULT_KEYWORDS}),this.meta.updateTag({property:"og:type",content:"website"}),this.meta.updateTag({property:"og:url",content:this.scoContent.url||window.location.href}),this.meta.updateTag({property:"og:title",content:t}),this.meta.updateTag({property:"og:description",content:e}),this.meta.updateTag({property:"og:image",content:this.scoContent.og_image}),this.meta.updateTag({property:"twitter:card",content:"summary_large_image"}),this.meta.updateTag({property:"twitter:url",content:this.scoContent.url||window.location.href}),this.meta.updateTag({property:"twitter:title",content:t}),this.meta.updateTag({property:"twitter:description",content:e}),this.meta.updateTag({property:"twitter:image",content:this.scoContent.og_image})}updateMessage(){clearTimeout(this.timeoutId),this.currentMessage=this.messages[this.currentMessageIndex],this.titleService.setTitle(this.currentMessage),this.currentMessageIndex=(this.currentMessageIndex+1)%this.messages.length,this.timeoutId=setTimeout(()=>{this.updateMessage()},this.delay)}ngOnDestroy(){clearTimeout(this.timeoutId)}static{this.\u0275fac=function(e){return new(e||s)(r(S),r(D),r(E),r(b))}}static{this.\u0275prov=m({token:s,factory:s.\u0275fac,providedIn:"root"})}};o([c(w.themeOptions)],n.prototype,"themeOption$",void 0);o([c(F.setting)],n.prototype,"setting$",void 0);o([c(L.selectedProduct)],n.prototype,"product$",void 0);o([c(B.selectedBlog)],n.prototype,"blog$",void 0);o([c(p.selectedBrand)],n.prototype,"brand$",void 0);o([c(A.selectedPage)],n.prototype,"page$",void 0);o([c(v.selectedCategory)],n.prototype,"category$",void 0);export{U as a,$ as b,p as c,n as d};
